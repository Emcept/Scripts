local lp = game.Players.LocalPlayer
local run = true

local Settings = {
Egg1 = "Titanium Egg",
Egg2 = "Golden Titanium Egg",
NoEggOpeningAnimation = true
}

local hasTripleHatch = game:GetService'MarketplaceService':UserOwnsGamePassAsync(lp.UserId, 18674307)

pcall(function()
if getgenv().AFK_LOADED == true then
run = false
else
getgenv().AFK_LOADED = true
end
end)


if run == true then

local e = coroutine.wrap(function()
while true do
task.wait(30) game:GetService("VirtualUser"):ClickButton2(Vector2.new())
end
end)

e()



if Settings.NoEggOpeningAnimation == true then

for i,v in pairs(getgc(true)) do
if (typeof(v) == 'table' and rawget(v, 'OpenEgg')) then
v.OpenEgg = function()
return
end
end
end

end

local v = coroutine.wrap(function()

local args = {
[1] = {
[1] = Settings.Egg1,
[2] = hasTripleHatch
}
}


local args = {
[1] = {
[1] = Settings.Egg2,
[2] = hasTripleHatch
}
}

while true do
task.wait(.54)
pcall(function()
local y = math.random(1, 2)
if y == 1 then
workspace.__THINGS.__REMOTES:FindFirstChild("buy egg"):InvokeServer(unpack(args))
else
workspace.__THINGS.__REMOTES:FindFirstChild("buy egg"):InvokeServer(unpack(args2))
end
end)
end
end)

v()



loadstring(game:HttpGet("https://raw.githubusercontent.com/Emcept/Scripts/main/WebhookScript_PSX.lua"))()

discordMessagePSX("<@&987797253869686804>", "Script executed!", lp.DisplayName.." has executed the script.")

local old = 0
local text = 'a EXCLUSIVE'
local text2 = 'a EXCLUSIVE Huge'

local f = coroutine.wrap(function()
while true do
task.wait(.3)
local temp = 0
local txt = ''

for i, v in pairs(lp.PlayerGui.Chat.Frame.ChatChannelParentFrame.Frame_MessageLogDisplay.Scroller:GetDescendants()) do
task.wait()
print't'
pcall(function()
if v:IsA'TextLabel' and string.find(v.Text:lower(), text:lower()) and not v:FindFirstChild'TextButton' and string.split(v.Text, ' ')[1] == lp.DisplayName or string.find(v.Text:lower(), text2:lower()) and not v:FindFirstChild'TextButton' and string.split(v.Text, ' ')[1] == lp.DisplayName then
print'ok yea'
temp = temp+1
txt = v.Text
end
end)
end

if temp > old then
print'b'
discordMessagePSX("<@&987797253869686804>", "Someone hatched an exclusive or a huge pet!", '_'..txt..'_')
print'c'
end

old = temp
end
end)

f()


game.Players.PlayerRemoving:Connect(function(plr)
if plr == lp then
discordMessagePSX("<@&987797253869686804>", game.Players.LocalPlayer.DisplayName.." has left the game.", "Either got kicked or crashed (or just left lmao).")
end
end)


local Dir = game.CoreGui:FindFirstChild("RobloxPromptGui"):FindFirstChild("promptOverlay")

Dir.DescendantAdded:Connect(function(Err)
if Err.Name == "ErrorTitle" then Err:GetPropertyChangedSignal("Text"):Connect(function()
if Err.Text:sub(0, 12) == "Disconnected" then
discordMessagePSX("<@&987797253869686804>", lp.DisplayName.." has left the game.", 'Rejoining...')
if #game.Players:GetPlayers() <= 1 then
wait()
game.TeleportService:Teleport(game.PlaceId, lp)
else
game.TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, lp)
end
end
end)
end
end)



local queueteleport = syn and syn.queue_on_teleport or queue_on_teleport or fluxus and fluxus.queue_on_teleport

game:GetService("Players").LocalPlayer.OnTeleport:Connect(function(State)
if State == Enum.TeleportState.Started then
task.wait(15)
queueteleport("loadstring(game:HttpGet'https://raw.githubusercontent.com/Emcept/Scripts/main/PSX_AFK.lua')()")
end
end)
print'fully loaded'



end
